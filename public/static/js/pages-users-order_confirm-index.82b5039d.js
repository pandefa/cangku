(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-order_confirm-index"],{"083d":function(e,t,i){var a=i("c14e");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("3f858eff",a,!0,{sourceMap:!1,shadowMode:!1})},"1d89":function(e,t,i){"use strict";var a=i("083d"),n=i.n(a);n.a},3671:function(e,t,i){"use strict";i.r(t);var a=i("be76"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"5e9e":function(e,t,i){"use strict";i.r(t);var a=i("d7fb"),n=i("3671");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("1d89");var o,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"3bc5e798",null,!1,a["a"],o);t["default"]=c.exports},be76:function(e,t,i){"use strict";(function(e){var a=i("4ea4");i("99af"),i("7db0"),i("4160"),i("d81d"),i("a434"),i("d3b7"),i("acd8"),i("e25e"),i("25f0"),i("498a"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("e0d6"),s=i("3474"),o=(i("9ef3"),i("f15c")),r=(i("a1ea"),a(i("6411"))),c=a(i("9250")),d=a(i("e247")),u=a(i("f497")),l=a(i("e23e")),p=i("c6cd3"),v=i("26cb"),h=a(i("d82c")),f=a(i("c83f")),m={components:{payment:h.default,invoicePicker:l.default,couponListWindow:r.default,addressWindow:c.default,orderGoods:d.default,home:u.default},mixins:[f.default],data:function(){this.getDate({format:!0});return{confirm:"",date:"请选择",time:"请选择",canvasWidth:"",canvasHeight:"",canvasStatus:!1,newImg:[],textareaStatus:!0,cartArr:[{name:"微信支付",icon:"icon-weixin2",value:"weixin",title:"使用微信快捷支付",payStatus:1},{name:"支付宝支付",icon:"icon-zhifubao",value:"alipay",title:"使用线上支付宝支付",payStatus:1},{name:"余额支付",icon:"icon-yuezhifu",value:"yue",title:"可用余额:",payStatus:1},{name:"线下支付",icon:"icon-yuezhifu1",value:"offline",title:"选择线下付款方式",payStatus:2},{name:"好友代付",icon:"icon-haoyoudaizhifu",value:"friend",title:"找微信好友支付",payStatus:1}],virtual_type:0,formContent:"",payType:"weixin",openType:1,active:0,coupon:{coupon:!1,list:[],statusTile:"立即使用"},address:{address:!1},addressInfo:{},pinkId:0,addressId:0,couponId:0,cartId:"",BargainId:0,combinationId:0,seckillId:0,discountId:0,userInfo:{},mark:"",couponTitle:"请选择",coupon_price:0,useIntegral:!1,integral_price:0,integral:0,usable_integral:0,ChangePrice:0,formIds:[],status:0,is_address:!1,toPay:!1,shippingType:0,system_store:{},storePostage:0,advanceId:0,contacts:"",contactsTel:"",mydata:{},storeList:[],store_self_mention:0,cartInfo:[],priceGroup:{},animated:!1,totalPrice:0,integralRatio:"0",pagesUrl:"",orderKey:"",offlinePostage:"",isAuto:!1,isShowAuth:!1,from:"",news:1,invTitle:"不开发票",special_invoice:!1,invoice_func:!1,header_type:"",invShow:!1,invList:[],invChecked:"",urlQuery:"",pay_close:!1,noCoupon:0,valid_count:0,discount_id:0}},computed:(0,v.mapGetters)(["isLogin"]),onLoad:function(e){if(this.from=this.$wechat.isWeixin()?"weixin":"weixinh5",!e.cartId)return this.$util.Tips({title:"请选择要购买的商品"},{tab:3,url:1});switch(this.couponId=e.couponId||0,this.noCoupon=e.noCoupon||0,this.pinkId=e.pinkId?parseInt(e.pinkId):0,this.addressId=e.addressId||0,this.cartId=e.cartId,this.is_address=!!e.is_address,this.news=e.new&&"0"!==e.new?1:0,this.invChecked=e.invoice_id||"",this.header_type=e.header_type||"1",this.couponTitle=e.couponTitle||"请选择",e.invoice_type){case"1":this.invTitle="增值税电子普通发票";break;case"2":this.invTitle="增值税电子专用发票";break}this.textareaStatus=!0,this.isLogin&&0==this.toPay?(this.getaddressInfo(),this.getConfirm(),this.$nextTick((function(){this.$refs.addressWindow.getAddressList()}))):(0,p.toLogin)()},onShow:function(){var e=this;uni.$on("handClick",(function(t){t&&(e.system_store=t.address),uni.$off("handClick")}))},methods:{invCancel:function(){this.invChecked="",this.invTitle="不开发票",this.invShow=!1},invChange:function(e){this.invChecked=e,this.invShow=!1;var t=this.invList.find((function(t){return t.id===e})),i="";i+=1===t.header_type?"个人":"企业",i+=1===t.type?"普通":"专用",i+="发票",this.invTitle=i},invClose:function(){this.invShow=!1,this.getInvoiceList()},getInvoiceList:function(){var e=this;uni.showLoading({title:"正在加载…"}),(0,s.invoiceList)().then((function(t){uni.hideLoading(),e.invList=t.data.map((function(e){return e.id=e.id.toString(),e}));var i=e.invList.find((function(t){return t.id==e.invChecked}));if(i){var a="";a+=1===i.header_type?"个人":"企业",a+=1===i.type?"普通":"专用",a+="发票",e.invTitle=a}})).catch((function(e){uni.showToast({title:e,icon:"none"})}))},goInvoice:function(){this.getInvoiceList(),this.invShow=!0,this.urlQuery="new=".concat(this.news,"&cartId=").concat(this.cartId,"&pinkId=").concat(this.pinkId,"&couponId=").concat(this.couponId,"&addressId=").concat(this.addressId,"&specialInvoice=").concat(this.special_invoice,"&couponTitle=").concat(this.couponTitle)},onLoadFun:function(){this.getaddressInfo(),this.getConfirm()},onChangeFun:function(e){var t=e,i=t.action||null,a=void 0!=t.value?t.value:null;i&&this[i]&&this[i](a)},payClose:function(){this.pay_close=!1},goPay:function(){this.pay_close=!0},payCheck:function(e){this.payType=e,this.SubOrder()},getList:function(){var e=this,t=uni.getStorageSync("user_longitude"),i=uni.getStorageSync("user_latitude"),a={latitude:i,longitude:t,page:1,limit:10};(0,o.storeListApi)(a).then((function(t){var i=t.data.list.list||[];e.$set(e,"storeList",i),e.$set(e,"system_store",i[0])})).catch((function(e){}))},changeClose:function(){this.$set(this.address,"address",!1)},showStoreList:function(){this.storeList.length>0&&uni.navigateTo({url:"/pages/users/goods_details_store/index"})},changePayType:function(e){this.payType=e,this.computedPrice()},computedPrice:function(){var e=this,t=this.shippingType;(0,n.postOrderComputed)(this.orderKey,{addressId:this.addressId,useIntegral:this.useIntegral?1:0,couponId:this.couponId,shipping_type:parseInt(t)+1,payType:this.payType}).then((function(i){var a=i.data.result;a&&(e.totalPrice=a.pay_price,e.integral_price=a.deduction_price,e.coupon_price=a.coupon_price,e.integral=e.useIntegral?a.SurplusIntegral:e.usable_integral,e.$set(e.priceGroup,"storePostage",1==t?0:a.pay_postage),e.$set(e.priceGroup,"storePostageDiscount",a.storePostageDiscount))}))},addressType:function(e){var t=this,i=e,a=this;this.shippingType!=parseInt(i)&&(this.shippingType=parseInt(i),1==i&&(a.$wechat.isWeixin()?a.$wechat.location().then((function(e){uni.setStorageSync("user_latitude",e.latitude),uni.setStorageSync("user_longitude",e.longitude),t.getList()})).catch((function(e){t.getList()})):uni.getLocation({type:"wgs84",success:function(e){uni.setStorageSync("user_latitude",e.latitude),uni.setStorageSync("user_longitude",e.longitude)},complete:function(){t.getList()}})),this.$nextTick((function(e){t.getConfirm(),t.computedPrice()})))},bindPickerChange:function(e){var t=e.detail.value;this.shippingType=t,this.computedPrice()},ChangCouponsClone:function(){this.$set(this.coupon,"coupon",!1)},changeTextareaStatus:function(){for(var e=0,t=this.coupon.list.length;e<t;e++)this.coupon.list[e].use_title="",this.coupon.list[e].is_use=0;this.textareaStatus=!0,this.status=0,this.$set(this.coupon,"list",this.coupon.list)},ChangCoupons:function(e){for(var t=e,i=this.coupon.list,a="请选择",n=0,s=0,o=i.length;s<o;s++)s!=t&&(i[s].use_title="",i[s].is_use=0);i[t].is_use?(i[t].use_title="",i[t].is_use=0):(i[t].use_title="不使用",i[t].is_use=1,a=i[t].coupon_title,n=i[t].id),this.couponTitle=a,this.couponId=n,this.$set(this.coupon,"coupon",!1),this.$set(this.coupon,"list",i),this.computedPrice()},ChangeIntegral:function(){this.useIntegral=!this.useIntegral,this.computedPrice()},OnChangeAddress:function(e){this.textareaStatus=!0,this.addressId=e,this.address.address=!1,this.getConfirm(),this.getaddressInfo(),this.computedPrice()},bindHideKeyboard:function(e){this.mark=e.detail.value},getConfirm:function(){var e=this,t=this;uni.showLoading({title:"订单加载中",mask:!0}),(0,n.orderConfirm)(t.cartId,t.news,t.addressId,t.shippingType+1).then((function(i){i.data.custom_form,t.$set(t,"userInfo",i.data.userInfo),t.$set(t,"confirm",i.data.custom_form||[]),e.confirm.map((function(e){"img"===e.label&&(e.value=[])})),t.$set(t,"integral",i.data.usable_integral),t.$set(t,"usable_integral",i.data.usable_integral),t.$set(t,"contacts",i.data.userInfo.real_name),t.$set(t,"contactsTel","0"===i.data.userInfo.record_phone?"":i.data.userInfo.record_phone),t.$set(t,"cartInfo",i.data.cartInfo),t.$set(t,"integralRatio",i.data.integralRatio),t.$set(t,"offlinePostage",i.data.offlinePostage),t.$set(t,"orderKey",i.data.orderKey),t.$set(t,"valid_count",i.data.valid_count),t.$set(t,"discount_id",i.data.discount_id),t.$set(t,"priceGroup",i.data.priceGroup),t.$set(t,"totalPrice",t.$util.$h.Add(parseFloat(i.data.priceGroup.totalPrice),parseFloat(i.data.priceGroup.storePostage))),t.$set(t,"seckillId",parseInt(i.data.seckill_id)),t.$set(t,"invoice_func",i.data.invoice_func),t.$set(t,"special_invoice",i.data.special_invoice),t.$set(t,"store_self_mention",i.data.store_self_mention),t.$set(t,"virtual_type",i.data.virtual_type||0),t.cartArr[0].payStatus=i.data.pay_weixin_open||0,t.cartArr[1].payStatus=i.data.ali_pay_status||0,t.cartArr[2].number=i.data.userInfo.now_money,t.cartArr[2].payStatus=1==i.data.yue_pay_status?i.data.yue_pay_status:0,2==i.data.offline_pay_status||i.data.deduction?t.cartArr[3].payStatus=0:t.cartArr[3].payStatus=1,t.$set(t,"ChangePrice",t.totalPrice),t.getBargainId(),t.getCouponList(),e.addressId&&e.computedPrice(),uni.hideLoading()})).catch((function(t){return uni.hideLoading(),e.$util.Tips({title:t})}))},getBargainId:function(){var e=this,t=e.cartInfo,i=0,a=0,n=0,s=0;t.forEach((function(e,t,o){i=o[t].bargain_id,a=o[t].combination_id,n=o[t].discount_id,s=o[t].advance_id})),e.$set(e,"BargainId",parseInt(i)),e.$set(e,"combinationId",parseInt(a)),e.$set(e,"discountId",parseInt(n)),e.$set(e,"advanceId",parseInt(s)),3==e.cartArr.length&&(i||a||e.seckillId||n)&&(e.cartArr[2].payStatus=0,e.$set(e,"cartArr",e.cartArr))},getCouponList:function(){var e=this,t={cartId:this.cartId,new:this.news};(0,n.getCouponsOrderPrice)(this.totalPrice,t).then((function(t){e.$set(e.coupon,"list",t.data),e.openType=1}))},getaddressInfo:function(){var e=this;e.addressId?(0,s.getAddressDetail)(e.addressId).then((function(t){t.data.is_default=parseInt(t.data.is_default),e.addressInfo=t.data||{},e.addressId=t.data.id||0,e.address.addressId=t.data.id||0})):(0,s.getAddressDefault)().then((function(t){t.data.is_default=parseInt(t.data.is_default),e.addressInfo=t.data||{},e.addressId=t.data.id||0,e.address.addressId=t.data.id||0}))},payItem:function(e){var t=this,i=e;t.active=i,t.animated=!0,t.payType=t.cartArr[i].value,t.computedPrice(),setTimeout((function(){t.car()}),500)},couponTap:function(){var e=this;this.coupon.coupon=!0,this.coupon.list.forEach((function(t,i){t.id==e.couponId?t.is_use=1:t.is_use=0})),this.$set(this.coupon,"list",this.coupon.list)},car:function(){var e=this;e.animated=!1},onAddress:function(){var e=this;e.textareaStatus=!1,e.address.address=!0,e.pagesUrl="/pages/users/user_address_list/index?news="+this.news+"&cartId="+this.cartId+"&pinkId="+this.pinkId+"&couponId="+this.couponId},payment:function(e){var t=this,i=this;(0,n.orderCreate)(i.orderKey,e).then((function(a){var n=a.data.status,s=a.data.result.orderId,o=(a.data.result.jsConfig,"/pages/order_pay_status/index?order_id="+s+"&msg="+a.msg+"&type=3&totalPrice="+t.totalPrice),r="/pages/users/payment_on_behalf/index?order_id="+s+"&spread="+t.$store.state.app.uid;switch(n){case"ORDER_EXIST":case"EXTEND_ORDER":case"PAY_ERROR":return uni.hideLoading(),i.$util.Tips({title:a.msg},{tab:5,url:o});case"SUCCESS":return uni.hideLoading(),e.payType,i.BargainId||i.combinationId||i.pinkId||i.seckillId||i.discountId,(i.BargainId||i.combinationId||i.pinkId||i.seckillId||i.discountId)&&"friend"!=e.payType?i.$util.Tips({title:a.msg,icon:"success"},{tab:4,url:o}):i.$util.Tips({title:a.msg,icon:"success"},{tab:4,url:"friend"==e.payType?r:o});case"WECHAT_PAY":i.toPay=!0,t.$wechat.pay(a.data.result.jsConfig).then((function(e){return i.$util.Tips({title:"支付成功",icon:"success"},{tab:5,url:o})})).catch((function(e){if(t.$wechat.isWeixin()||uni.redirectTo({url:o+"&msg=支付失败&status=2"}),"chooseWXPay:cancel"==e.errMsg)return i.$util.Tips({title:"取消支付"},{tab:5,url:o+"&status=2"})}));break;case"PAY_DEFICIENCY":return uni.hideLoading(),i.$util.Tips({title:a.msg},{tab:5,url:o+"&status=1"});case"WECHAT_H5_PAY":uni.hideLoading(),i.$util.Tips({title:"订单创建成功!"},{tab:4,url:o+"&status=0"}),setTimeout((function(){location.href=a.data.result.jsConfig.mweb_url}),2e3);break;case"ALIPAY_PAY":"weixin"===t.from?uni.redirectTo({url:"/pages/users/alipay_invoke/index?id=".concat(s,"&pay_key=").concat(a.data.result.pay_key)}):(uni.hideLoading(),i.formContent=a.data.result.jsConfig,i.$nextTick((function(){document.getElementById("alipaysubmit").submit()})));break}})).catch((function(e){return uni.hideLoading(),i.$util.Tips({title:e})}))},clickTextArea:function(){this.$refs.textarea.focus()},SubOrder:function(e){var t=this,i={};if(!t.payType)return t.$util.Tips({title:"请选择支付方式"});if(!t.addressId&&!t.shippingType&&!t.virtual_type)return t.$util.Tips({title:"请选择收货地址"});if(1==t.shippingType){if(""==t.contacts||""==t.contactsTel)return t.$util.Tips({title:"请填写联系人或联系人电话"});if(!/^1(3|4|5|7|8|9|6)\d{9}$/.test(t.contactsTel))return t.$util.Tips({title:"请填写正确的手机号"});if(!t.contacts)return t.$util.Tips({title:"请填写您的真实姓名"});if(0==t.storeList.length)return t.$util.Tips({title:"暂无门店,请选择其他方式"})}for(var a=0;a<t.confirm.length;a++){var n=t.confirm[a];if(n.status){if(("text"===n.label||"data"===n.label||"time"===n.label||"id"===n.label)&&!n.value.trim())return uni.showToast({title:"请先输入".concat(n.title),icon:"none"});if("number"===n.label&&n.value<=0)return uni.showToast({title:"请先输入".concat(n.title),icon:"none"});if("email"===n.label&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(n.value))return uni.showToast({title:"请输入正确的".concat(n.title),icon:"none"});if("phone"===n.label&&!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.value))return uni.showToast({title:"请输入正确的".concat(n.title),icon:"none"});if("img"===n.label&&!n.value.length)return uni.showToast({title:"请先上传".concat(n.title),icon:"none"})}}if(i={custom_form:t.confirm,real_name:t.contacts,phone:t.contactsTel,addressId:t.addressId,formId:"",couponId:t.couponId,payType:t.payType,useIntegral:t.useIntegral,bargainId:t.BargainId,combinationId:t.combinationId,discountId:t.discountId,pinkId:t.pinkId,advanceId:t.advanceId,seckill_id:t.seckillId,mark:t.mark,store_id:t.system_store?t.system_store.id:0,from:t.from,shipping_type:t.$util.$h.Add(t.shippingType,1),new:t.news,invoice_id:t.invChecked,quitUrl:location.protocol+"//"+location.hostname+"/pages/order_pay_status/index?&type=3&totalPrice="+this.totalPrice},"yue"==i.payType&&parseFloat(t.userInfo.now_money)<parseFloat(t.totalPrice))return t.$util.Tips({title:"余额不足！"});uni.showLoading({title:"订单支付中"}),t.payment(i)},bindDateChange:function(e,t){this.confirm[t].value=e.target.value},bindTimeChange:function(e,t){this.confirm[t].value=e.target.value},getDate:function(e){var t=new Date,i=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(i,"-").concat(a,"-").concat(n)},uploadpic:function(e,t){var i=this,a=this;this.canvasStatus=!0,a.$util.uploadImageChange("upload/image",(function(e){t.value.push(e.data.url)}),(function(e){i.canvasStatus=!1}),(function(e){i.canvasWidth=e.w,i.canvasHeight=e.h}))},DelPic:function(e,t){var i=this;this.confirm[e].value;i.confirm[e].value.splice(t,1)}}};t.default=m}).call(this,i("5a52")["default"])},c14e:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */[data-v-3bc5e798] uni-checkbox[disabled] .uni-checkbox-input{background-color:#eee}.alipaysubmit[data-v-3bc5e798]{display:none}.order-submission .line[data-v-3bc5e798]{width:100%;height:%?3?%}.order-submission .line uni-image[data-v-3bc5e798]{width:100%;height:100%;display:block}.order-submission .address[data-v-3bc5e798]{padding:%?28?% %?30?%;background-color:#fff;box-sizing:border-box}.order-submission .address .addressCon[data-v-3bc5e798]{width:%?610?%;font-size:%?26?%;color:#666}.order-submission .address .addressCon .name[data-v-3bc5e798]{font-size:%?30?%;color:#282828;font-weight:700;margin-bottom:%?10?%}.order-submission .address .addressCon .name .phone[data-v-3bc5e798]{margin-left:%?50?%}.order-submission .address .addressCon .default[data-v-3bc5e798]{margin-right:%?12?%}.order-submission .address .addressCon .setaddress[data-v-3bc5e798]{color:#333;font-size:%?28?%}.order-submission .address .iconfont[data-v-3bc5e798]{font-size:%?35?%;color:#707070}.order-submission .allAddress[data-v-3bc5e798]{width:100%;background:linear-gradient(180deg,var(--view-theme) 0,#f5f5f5);padding-top:%?100?%;margin-bottom:%?12?%}.order-submission .allAddress .nav[data-v-3bc5e798]{width:%?710?%;margin:0 auto}.order-submission .allAddress .nav .item[data-v-3bc5e798]{width:%?355?%}.order-submission .allAddress .nav .item.on[data-v-3bc5e798]{position:relative;width:%?250?%}.order-submission .allAddress .nav .item.on[data-v-3bc5e798]::before{position:absolute;bottom:0;content:"快递配送";font-size:%?28?%;display:block;height:0;width:%?336?%;border-width:0 %?20?% %?80?% 0;border-style:none solid solid;border-color:transparent transparent #fff;z-index:2;border-radius:%?7?% %?30?% 0 0;text-align:center;line-height:%?80?%}.order-submission .allAddress .nav .item:nth-of-type(2).on[data-v-3bc5e798]::before{content:"到店自提";border-width:0 0 %?80?% %?20?%;border-radius:%?30?% %?7?% 0 0}.order-submission .allAddress .nav .item.on2[data-v-3bc5e798]{position:relative}.order-submission .allAddress .nav .item.on2[data-v-3bc5e798]::before{position:absolute;bottom:0;content:"到店自提";font-size:%?28?%;display:block;height:0;width:%?400?%;border-width:0 0 %?60?% %?60?%;border-style:none solid solid;border-color:transparent transparent hsla(0,0%,100%,.6);border-radius:%?40?% %?6?% 0 0;text-align:center;line-height:%?60?%}.order-submission .allAddress .nav .item:nth-of-type(1).on2[data-v-3bc5e798]::before{content:"快递配送";border-width:0 %?60?% %?60?% 0;border-radius:%?6?% %?40?% 0 0}.order-submission .allAddress .address[data-v-3bc5e798]{width:%?710?%;height:%?150?%;margin:0 auto}.order-submission .allAddress .line[data-v-3bc5e798]{width:%?710?%;margin:0 auto}.order-submission .wrapper .item .discount .placeholder[data-v-3bc5e798]{color:#ccc}.placeholder-textarea[data-v-3bc5e798]{position:relative}.placeholder-textarea .placeholder[data-v-3bc5e798]{position:absolute;color:#ccc;top:%?26?%;left:%?30?%}.order-submission .wrapper[data-v-3bc5e798]{background-color:#fff;margin-top:%?13?%}.order-submission .wrapper .item[data-v-3bc5e798]{padding:%?27?% %?30?%;font-size:%?30?%;color:#282828;border-bottom:1px solid #f0f0f0}.order-submission .wrapper .item .discount[data-v-3bc5e798]{font-size:%?30?%;color:#999}.order-submission .wrapper .item .discount uni-input[data-v-3bc5e798]{text-align:end}.order-submission .wrapper .item .discount .iconfont[data-v-3bc5e798]{color:#515151;font-size:%?30?%;margin-left:%?15?%}.order-submission .wrapper .item .discount .num[data-v-3bc5e798]{font-size:%?32?%;margin-right:%?20?%}.order-submission .wrapper .item .shipping[data-v-3bc5e798]{font-size:%?30?%;color:#999;position:relative;padding-right:%?58?%}.order-submission .wrapper .item .shipping .iconfont[data-v-3bc5e798]{font-size:%?35?%;color:#707070;position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin-left:%?30?%}.order-submission .wrapper .item uni-textarea[data-v-3bc5e798]{background-color:#f9f9f9;width:%?690?%;height:%?140?%;border-radius:%?3?%;margin-top:%?30?%;padding:%?25?% %?28?%;box-sizing:border-box}.order-submission .wrapper .item .placeholder[data-v-3bc5e798]{color:#ccc}.order-submission .wrapper .item .list[data-v-3bc5e798]{margin-top:%?35?%}.order-submission .wrapper .item .list .payItem[data-v-3bc5e798]{border:1px solid #eee;border-radius:%?6?%;height:%?86?%;width:100%;box-sizing:border-box;margin-top:%?20?%;font-size:%?28?%;color:#282828}.order-submission .wrapper .item .list .payItem.on[data-v-3bc5e798]{border-color:#fc5445;color:#e93323}.order-submission .wrapper .item .list .payItem .name[data-v-3bc5e798]{width:50%;text-align:center;border-right:1px solid #eee;padding-left:%?80?%}.order-submission .wrapper .item .list .payItem .name .iconfont[data-v-3bc5e798]{width:%?44?%;height:%?44?%;border-radius:50%;text-align:center;line-height:%?44?%;background-color:#fe960f;color:#fff;font-size:%?30?%;margin-right:%?15?%}.order-submission .wrapper .item .list .payItem .name .iconfont.icon-weixin2[data-v-3bc5e798]{background-color:#41b035}.order-submission .wrapper .item .list .payItem .name .iconfont.icon-zhifubao[data-v-3bc5e798]{background-color:#1677ff}.order-submission .wrapper .item .list .payItem .tip[data-v-3bc5e798]{width:49%;text-align:center;font-size:%?26?%;color:#aaa}.order-submission .moneyList[data-v-3bc5e798]{margin-top:%?12?%;background-color:#fff;padding:%?30?%}.order-submission .moneyList .item[data-v-3bc5e798]{font-size:%?28?%;color:#282828}.order-submission .moneyList .item ~ .item[data-v-3bc5e798]{margin-top:%?20?%}.order-submission .moneyList .item .money[data-v-3bc5e798]{color:#868686}.order-submission .footer[data-v-3bc5e798]{width:100%;height:%?100?%;background-color:#fff;padding:0 %?30?%;font-size:%?28?%;color:#333;box-sizing:border-box;position:fixed;bottom:0;left:0;z-index:9}.order-submission .footer .settlement[data-v-3bc5e798]{font-size:%?30?%;color:#fff;width:%?240?%;height:%?70?%;background-color:var(--view-theme);border-radius:%?50?%;text-align:center;line-height:%?70?%}.footer .transparent[data-v-3bc5e798]{opacity:0}.confirm[data-v-3bc5e798]{text-align:right;font-size:%?22?%}.confirmImg[data-v-3bc5e798]{width:100%}.confirmImg .img[data-v-3bc5e798]{width:%?136?%;height:%?136?%}.confirmImg .pictrue[data-v-3bc5e798]{width:%?136?%;height:%?136?%;box-sizing:border-box;margin:%?18?%;margin-bottom:%?35?%;position:relative;font-size:%?22?%;color:#bbb}.confirmImg .pictrue .del[data-v-3bc5e798]{position:absolute;top:0;right:0}.confirmImg .bor[data-v-3bc5e798]{border:%?1?% solid #ddd}.fontC[data-v-3bc5e798]{color:grey}',""]),e.exports=t},d7fb:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{style:e.colorStyle},[i("v-uni-view",{staticClass:"order-submission"},[e.virtual_type?e._e():i("v-uni-view",{staticClass:"allAddress",style:e.store_self_mention?"":"padding-top:10rpx"},[i("v-uni-view",{staticClass:"nav acea-row"},[e.store_self_mention?i("v-uni-view",{staticClass:"item font-num",class:0==e.shippingType?"on":"on2",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addressType(0)}}}):e._e(),e.store_self_mention?i("v-uni-view",{staticClass:"item font-num",class:1==e.shippingType?"on":"on2",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addressType(1)}}}):e._e()],1),0==e.shippingType?i("v-uni-view",{staticClass:"address acea-row row-between-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onAddress.apply(void 0,arguments)}}},[e.addressInfo.real_name?i("v-uni-view",{staticClass:"addressCon"},[i("v-uni-view",{staticClass:"name"},[e._v(e._s(e.addressInfo.real_name)),i("v-uni-text",{staticClass:"phone"},[e._v(e._s(e.addressInfo.phone))])],1),i("v-uni-view",{staticClass:"line1"},[e.addressInfo.is_default?i("v-uni-text",{staticClass:"default font-num"},[e._v("[默认]")]):e._e(),e._v(e._s(e.addressInfo.province)+e._s(e.addressInfo.city)+e._s(e.addressInfo.district)+e._s(e.addressInfo.detail))],1)],1):i("v-uni-view",{staticClass:"addressCon"},[i("v-uni-view",{staticClass:"setaddress"},[e._v("设置收货地址")])],1),i("v-uni-view",{staticClass:"iconfont icon-jiantou"})],1):i("v-uni-view",{staticClass:"address acea-row row-between-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showStoreList.apply(void 0,arguments)}}},[e.storeList.length>0?[i("v-uni-view",{staticClass:"addressCon"},[i("v-uni-view",{staticClass:"name"},[e._v(e._s(e.system_store.name)),i("v-uni-text",{staticClass:"phone"},[e._v(e._s(e.system_store.phone))])],1),i("v-uni-view",{staticClass:"line1"},[e._v(e._s(e.system_store.address)+e._s(", "+e.system_store.detailed_address))])],1),i("v-uni-view",{staticClass:"iconfont icon-jiantou"})]:[i("v-uni-view",[e._v("暂无门店信息")])]],2),i("v-uni-view",{staticClass:"line"},[i("v-uni-image",{attrs:{src:"/static/images/line.jpg"}})],1)],1),i("orderGoods",{attrs:{cartInfo:e.cartInfo,is_confirm:!0,shipping_type:e.shippingType}}),i("v-uni-view",{staticClass:"wrapper"},[e.pinkId||e.BargainId||e.combinationId||e.seckillId||e.noCoupon||e.discountId||e.advanceId?e._e():i("v-uni-view",{staticClass:"item acea-row row-between-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.couponTap.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("优惠券")]),i("v-uni-view",{staticClass:"discount"},[e._v(e._s(e.couponTitle)),i("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1),e.pinkId||e.BargainId||e.combinationId||e.seckillId||e.advanceId?e._e():i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("积分抵扣")]),i("v-uni-view",{staticClass:"discount acea-row row-middle"},[i("v-uni-view",[e._v(e._s(e.useIntegral?"剩余积分":"当前积分")),i("v-uni-text",{staticClass:"num font-color"},[e._v(e._s(e.integral||0))])],1),i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.ChangeIntegral.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{disabled:e.integral<=0&&!e.useIntegral,checked:!!e.useIntegral}})],1)],1)],1),e.invoice_func||e.special_invoice?i("v-uni-view",{staticClass:"item acea-row row-between-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goInvoice.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("开具发票")]),i("v-uni-view",{staticClass:"discount"},[e._v(e._s(e.invTitle)),i("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1):e._e(),1==e.shippingType?i("v-uni-view",[i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("联系人")]),i("v-uni-view",{staticClass:"discount"},[i("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"请填写您的联系姓名","placeholder-class":"placeholder"},model:{value:e.contacts,callback:function(t){e.contacts=t},expression:"contacts"}})],1)],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("联系电话")]),i("v-uni-view",{staticClass:"discount"},[i("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"请填写您的联系电话","placeholder-class":"placeholder"},model:{value:e.contactsTel,callback:function(t){e.contactsTel=t},expression:"contactsTel"}})],1)],1)],1):e._e(),e.textareaStatus?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",[e._v("备注信息")]),e.coupon.coupon?e._e():i("v-uni-textarea",{attrs:{"placeholder-class":"placeholder",placeholder:"请添加备注（150字以内）",value:e.mark,maxlength:150,name:"mark"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.bindHideKeyboard.apply(void 0,arguments)}}})],1):e._e()],1),e.confirm.length?i("v-uni-view",{staticClass:"wrapper"},e._l(e.confirm,(function(t,a){return i("v-uni-view",{key:a,staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[t.status?i("span",{staticStyle:{color:"red"}},[e._v("*")]):i("span",{staticStyle:{marginLeft:"8px"}}),e._v(e._s(t.title))]),"text"==t.label?i("v-uni-view",{staticClass:"confirm"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写"+t.title},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1):e._e(),"number"==t.label?i("v-uni-view",{staticClass:"confirm"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请填写"+t.title},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1):e._e(),"email"==t.label?i("v-uni-view",{staticClass:"confirm"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写"+t.title},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1):e._e(),"data"==t.label?i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell"},[i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{mode:"date",value:t.value},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange(t,a)}}},[""==t.value?i("v-uni-view",{staticClass:"fontC"},[e._v(e._s(e.date+t.title)),i("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1):i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(t.value))])],1)],1)],1)],1):e._e(),"time"==t.label?i("v-uni-view",[i("v-uni-view",[i("v-uni-view",[i("v-uni-picker",{attrs:{mode:"time",value:t.value,start:"09:01",end:"21:01"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTimeChange(t,a)}}},[""==t.value?i("v-uni-view",{staticClass:"fontC"},[e._v(e._s(e.time+t.title)),i("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1):e._e(),i("v-uni-view",[e._v(e._s(t.value))])],1)],1)],1)],1):e._e(),"id"==t.label?i("v-uni-view",{staticClass:"confirm"},[i("v-uni-input",{attrs:{type:"idcard",placeholder:"请填写"+t.title},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1):e._e(),"phone"==t.label?i("v-uni-view",{staticClass:"confirm"},[i("v-uni-input",{attrs:{type:"tel",placeholder:"请填写"+t.title},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1):e._e(),"img"==t.label?i("v-uni-view",{staticClass:"confirmImg"},[i("v-uni-view",{staticClass:"list acea-row row-middle"},[e._l(t.value,(function(t,n){return i("v-uni-view",{key:n,staticClass:"pictrue"},[i("v-uni-image",{staticClass:"img",attrs:{src:t}}),i("v-uni-text",{staticClass:"iconfont icon-guanbi1 font-num del",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.DelPic(a,n)}}})],1)})),t.value.length<8?i("v-uni-view",{staticClass:"pictrue acea-row row-center-wrapper row-column bor",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.uploadpic(a,t)}}},[i("v-uni-text",{staticClass:"iconfont icon-icon25201"}),i("v-uni-view",[e._v("上传图片")])],1):e._e()],2)],1):e._e()],1)})),1):e._e(),i("v-uni-view",{staticClass:"moneyList"},[i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("商品总价：")]),i("v-uni-view",{staticClass:"money"},[e._v("￥"+e._s((parseFloat(e.priceGroup.totalPrice)+parseFloat(e.priceGroup.vipPrice)).toFixed(2)))])],1),e.priceGroup.storePostage>0?i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("配送运费：")]),i("v-uni-view",{staticClass:"money"},[e._v("￥"+e._s((parseFloat(e.priceGroup.storePostage)+parseFloat(e.priceGroup.storePostageDiscount)).toFixed(2)))])],1):e._e(),!(e.priceGroup.vipPrice>0&&e.userInfo.vip)||e.pinkId||e.BargainId||e.combinationId||e.seckillId||e.discountId?e._e():i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("会员商品优惠：")]),i("v-uni-view",{staticClass:"money"},[e._v("-￥"+e._s(parseFloat(e.priceGroup.vipPrice).toFixed(2)))])],1),e.priceGroup.storePostageDiscount>0?i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("会员运费优惠：")]),i("v-uni-view",{staticClass:"money"},[e._v("-￥"+e._s(parseFloat(e.priceGroup.storePostageDiscount).toFixed(2)))])],1):e._e(),e.coupon_price>0?i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("优惠券抵扣：")]),i("v-uni-view",{staticClass:"money"},[e._v("-￥"+e._s(parseFloat(e.coupon_price).toFixed(2)))])],1):e._e(),e.integral_price>0?i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",[e._v("积分抵扣：")]),i("v-uni-view",{staticClass:"money"},[e._v("-￥"+e._s(parseFloat(e.integral_price).toFixed(2)))])],1):e._e()],1),i("v-uni-view",{staticStyle:{height:"120rpx"}}),i("v-uni-view",{staticClass:"footer acea-row row-between-wrapper"},[i("v-uni-view",[e._v("合计:"),i("v-uni-text",{staticClass:"font-color"},[e._v("￥"+e._s(e.totalPrice||0))])],1),e.valid_count>0&&!e.discount_id||e.valid_count==e.cartInfo.length&&e.discount_id?i("v-uni-view",{staticClass:"settlement",staticStyle:{"z-index":"100"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.goPay.apply(void 0,arguments)}}},[e._v("立即结算")]):i("v-uni-view",{staticClass:"settlement bg-color-hui",staticStyle:{"z-index":"100"}},[e._v("立即结算")])],1)],1),i("v-uni-view",{staticClass:"alipaysubmit",domProps:{innerHTML:e._s(e.formContent)}}),i("couponListWindow",{attrs:{coupon:e.coupon,openType:e.openType,cartId:e.cartId},on:{ChangCouponsClone:function(t){arguments[0]=t=e.$handleEvent(t),e.ChangCouponsClone.apply(void 0,arguments)},ChangCoupons:function(t){arguments[0]=t=e.$handleEvent(t),e.ChangCoupons.apply(void 0,arguments)}}}),i("addressWindow",{ref:"addressWindow",attrs:{news:e.news,address:e.address,pagesUrl:e.pagesUrl},on:{changeTextareaStatus:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTextareaStatus.apply(void 0,arguments)},OnChangeAddress:function(t){arguments[0]=t=e.$handleEvent(t),e.OnChangeAddress.apply(void 0,arguments)},changeClose:function(t){arguments[0]=t=e.$handleEvent(t),e.changeClose.apply(void 0,arguments)}}}),i("home",{directives:[{name:"show",rawName:"v-show",value:!e.invShow,expression:"!invShow"}]}),i("invoice-picker",{attrs:{"inv-show":e.invShow,"inv-list":e.invList,"inv-checked":e.invChecked,"is-special":e.special_invoice,"url-query":e.urlQuery},on:{"inv-close":function(t){arguments[0]=t=e.$handleEvent(t),e.invClose.apply(void 0,arguments)},"inv-change":function(t){arguments[0]=t=e.$handleEvent(t),e.invChange.apply(void 0,arguments)},"inv-cancel":function(t){arguments[0]=t=e.$handleEvent(t),e.invCancel.apply(void 0,arguments)}}}),i("payment",{attrs:{payMode:e.cartArr,pay_close:e.pay_close,isCall:!0,totalPrice:e.totalPrice.toString()},on:{changePayType:function(t){arguments[0]=t=e.$handleEvent(t),e.changePayType.apply(void 0,arguments)},onChangeFun:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeFun.apply(void 0,arguments)}}}),e.canvasStatus?i("v-uni-canvas",{style:{width:e.canvasWidth+"px",height:e.canvasHeight+"px",position:"absolute",left:"-100000px",top:"-100000px"},attrs:{"canvas-id":"canvas"}}):e._e()],1)},s=[]}}]);